{% comment %}
  This section is used in the blog template to render the blog page listing all
  articles within a blog.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/blog
{% endcomment %}

<h1>{{ blog.title }}</h1>

<div class="highlights">
  {% paginate blog.articles by 5 %}
    {% for article in blog.articles %}
      <a class="highlight" href="{{ article.url }}">
        {% if article.image %}
          {% render 'image', class: 'highlight__image', image: article.image, width: 600 %}
        {% endif %}
        <h3>{{ article.title }}</h3>
        {% assign date = article.published_at | time_tag: format: 'date' %}
        <p>{{ 'blog.article_metadata_html' | t: date: date, author: article.author }}</p>
        {% if article.excerpt != blank %}
          <p class="highlight-description">{{ article.excerpt | strip_html | truncatewords: 15 }}</p>
        {% endif %}
      </a>
    {% endfor %}

    {%- if paginate.pages > 1 -%}
      {{- paginate | default_pagination -}}
    {%- endif -%}
  {% endpaginate %}
</div>

{% schema %}
{
  "name": "t:general.blog",
  "settings": []
}
{% endschema %}
